import { Plugin, PluginKey } from 'prosemirror-state';
const editablePlugin = (editable = true) => {
    return new Plugin({
        key: new PluginKey('editable'),
        state: {
            init() {
                return editable;
            },
            apply(tr, previousVal) {
                var _a;
                return (_a = tr.getMeta('UPDATE_EDITABLE')) !== null && _a !== void 0 ? _a : previousVal;
            }
        },
        props: {
            editable(state) {
                return this.getState(state);
            },
            attributes(state) {
                const isEnabled = this.getState(state);
                if (isEnabled) {
                    return null;
                }
                return {
                    class: 'NgxEditor__Content--Disabled'
                };
            }
        }
    });
};
const ɵ0 = editablePlugin;
export default editablePlugin;
export { ɵ0 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL3BsdWdpbnMvZWRpdGFibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFlLE1BQU0sRUFBRSxTQUFTLEVBQWUsTUFBTSxtQkFBbUIsQ0FBQztBQUVoRixNQUFNLGNBQWMsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLEVBQUUsRUFBRTtJQUN6QyxPQUFPLElBQUksTUFBTSxDQUFDO1FBQ2hCLEdBQUcsRUFBRSxJQUFJLFNBQVMsQ0FBQyxVQUFVLENBQUM7UUFDOUIsS0FBSyxFQUFFO1lBQ0wsSUFBSTtnQkFDRixPQUFPLFFBQVEsQ0FBQztZQUNsQixDQUFDO1lBQ0QsS0FBSyxDQUFDLEVBQWUsRUFBRSxXQUFvQjs7Z0JBQ3pDLGFBQU8sRUFBRSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxtQ0FBSSxXQUFXLENBQUM7WUFDdEQsQ0FBQztTQUNGO1FBQ0QsS0FBSyxFQUFFO1lBQ0wsUUFBUSxDQUFDLEtBQWtCO2dCQUN6QixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDOUIsQ0FBQztZQUNELFVBQVUsQ0FBQyxLQUFrQjtnQkFDM0IsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFFdkMsSUFBSSxTQUFTLEVBQUU7b0JBQ2IsT0FBTyxJQUFJLENBQUM7aUJBQ2I7Z0JBRUQsT0FBTztvQkFDTCxLQUFLLEVBQUUsOEJBQThCO2lCQUN0QyxDQUFDO1lBQ0osQ0FBQztTQUNGO0tBQ0YsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDOztBQUVGLGVBQWUsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWRpdG9yU3RhdGUsIFBsdWdpbiwgUGx1Z2luS2V5LCBUcmFuc2FjdGlvbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJztcblxuY29uc3QgZWRpdGFibGVQbHVnaW4gPSAoZWRpdGFibGUgPSB0cnVlKSA9PiB7XG4gIHJldHVybiBuZXcgUGx1Z2luKHtcbiAgICBrZXk6IG5ldyBQbHVnaW5LZXkoJ2VkaXRhYmxlJyksXG4gICAgc3RhdGU6IHtcbiAgICAgIGluaXQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBlZGl0YWJsZTtcbiAgICAgIH0sXG4gICAgICBhcHBseSh0cjogVHJhbnNhY3Rpb24sIHByZXZpb3VzVmFsOiBib29sZWFuKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRyLmdldE1ldGEoJ1VQREFURV9FRElUQUJMRScpID8/IHByZXZpb3VzVmFsO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHJvcHM6IHtcbiAgICAgIGVkaXRhYmxlKHN0YXRlOiBFZGl0b3JTdGF0ZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZShzdGF0ZSk7XG4gICAgICB9LFxuICAgICAgYXR0cmlidXRlcyhzdGF0ZTogRWRpdG9yU3RhdGUpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGlzRW5hYmxlZCA9IHRoaXMuZ2V0U3RhdGUoc3RhdGUpO1xuXG4gICAgICAgIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY2xhc3M6ICdOZ3hFZGl0b3JfX0NvbnRlbnQtLURpc2FibGVkJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBlZGl0YWJsZVBsdWdpbjtcbiJdfQ==