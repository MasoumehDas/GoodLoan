import { InputRule } from 'prosemirror-inputrules';
// automatically convert text to link while typing
export const autoLink = () => {
    const urlRegEx = /((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)$/;
    return new InputRule(urlRegEx, (state, match, start, end) => {
        const { schema } = state;
        const tr = state.tr.insertText(match[0], start, end); // Replace existing text with entire match
        const mark = schema.marks.link.create({ href: match[0] });
        return tr.addMark(start, start + match[0].length, mark);
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0by1saW5rLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2lucHV0LXJ1bGVzL2F1dG8tbGluay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFbkQsa0RBQWtEO0FBQ2xELE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxHQUFjLEVBQUU7SUFDdEMsTUFBTSxRQUFRLEdBQUcsc0RBQXNELENBQUM7SUFFeEUsT0FBTyxJQUFJLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUMxRCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDO1FBRXpCLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQywwQ0FBMEM7UUFDaEcsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFMUQsT0FBTyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0UnVsZSB9IGZyb20gJ3Byb3NlbWlycm9yLWlucHV0cnVsZXMnO1xuXG4vLyBhdXRvbWF0aWNhbGx5IGNvbnZlcnQgdGV4dCB0byBsaW5rIHdoaWxlIHR5cGluZ1xuZXhwb3J0IGNvbnN0IGF1dG9MaW5rID0gKCk6IElucHV0UnVsZSA9PiB7XG4gIGNvbnN0IHVybFJlZ0V4ID0gLygoaHR0cHM/OlxcL1xcLyk/W1xcdy1dKyhcXC5bXFx3LV0rKStcXC4/KDpcXGQrKT8oXFwvXFxTKik/KSQvO1xuXG4gIHJldHVybiBuZXcgSW5wdXRSdWxlKHVybFJlZ0V4LCAoc3RhdGUsIG1hdGNoLCBzdGFydCwgZW5kKSA9PiB7XG4gICAgY29uc3QgeyBzY2hlbWEgfSA9IHN0YXRlO1xuXG4gICAgY29uc3QgdHIgPSBzdGF0ZS50ci5pbnNlcnRUZXh0KG1hdGNoWzBdLCBzdGFydCwgZW5kKTsgLy8gUmVwbGFjZSBleGlzdGluZyB0ZXh0IHdpdGggZW50aXJlIG1hdGNoXG4gICAgY29uc3QgbWFyayA9IHNjaGVtYS5tYXJrcy5saW5rLmNyZWF0ZSh7IGhyZWY6IG1hdGNoWzBdIH0pO1xuXG4gICAgcmV0dXJuIHRyLmFkZE1hcmsoc3RhcnQsIHN0YXJ0ICsgbWF0Y2hbMF0ubGVuZ3RoLCBtYXJrKTtcbiAgfSk7XG59O1xuIl19